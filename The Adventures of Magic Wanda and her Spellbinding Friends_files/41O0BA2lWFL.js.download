(function(q){var c=window.AmazonUIPageJS||window.P,r=c._namespace||c.attributeErrors,k=r?r("DetailPageLookInsideAssets",""):c;k.guardFatal?k.guardFatal(q)(k,window):k.execute(function(){q(k,window)})})(function(q,c,r){function k(h){c.ue&&c.ue.count&&c.ue.tag&&(ue.count(h,0),ue.tag(E()))}function l(h){if("undefined"!==typeof h){var e=c.ue;if(e&&e.count&&e.tag){var b=e.count(h)||0;e.count(h,b+1);e.tag(E())}}}function E(){var c=/ipad|tablet/i.test(navigator.userAgent);return/mobile/i.test(navigator.userAgent)&&
!c?"mobile":c?"tablet":"desktop"}function V(c,e){var b={};var f=W.COUNT;f={Timestamp:Date.now(),CloudWatchMetrics:[{Namespace:"LITB",Dimensions:[["region"],["marketplace"],["platform"]],Metrics:[{Name:c,Unit:f}]}]};b._aws=f;b.region=e.region;b.marketplace=e.marketplace;b.platform=E();b[c]=1;return{logs:[{level:"info",message:c,context:{emfLog:b,logTime:Date.now()}}]}}q.when("A","jQuery","ebooksImageBlockATF","cf").execute(function(h,e,b){function f(){k("litbReaderIframeSrcNotAvailable");k("litbReaderIframeContentWindowNotAvailable");
k("litbStickerClickedOnKindleBook");k("bookImageClickedOnKindleBook");H();L.addClass("image-2d");if(b&&b.litbData&&b.litbData.hasLitb&&b.litbData.litbReftag){L.addClass("clickableImage");var a=document.getElementById("litb-read-frame");a&&a.dataset&&a.dataset.src?a.src=a.dataset.src:l("litbReaderIframeSrcNotAvailable");b.litbData.showNewDesktopLitb&&a?(y.click(function(a){m(!0);n(a.target)&&(l("litbStickerClickedOnKindleBook"),d.incrementMetric("litbStickerClickedOnKindleBook"))}),c.addEventListener("popstate",
X,!1),c.addEventListener("message",t,!1),u(),a=v(c.location.search),a.asin&&a.format&&m(!1)):y.click(function(a){R(!0);n(a.target)&&l("litbStickerClickedOnKindleBook")})}e(c).resize(q)}function n(a){return a&&("ebooksSitbLogoImg"===a.getAttribute("id")||"ebooksSitbLogo"===a.getAttribute("id"))}function u(){var a=document.getElementById("litb-read-frame");if(a&&a.contentWindow){if(D){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),
"*");if(S>T)return;S++}else a&&l("litbReaderIframeContentWindowNotAvailable");setTimeout(u,N)}function m(a){U++;D?R(a):U>T||setTimeout(function(){m(a)},N)}function R(a){a&&(l("bookImageClickedOnKindleBook"),d.incrementMetric("bookImageClickedOnKindleBook"));var g=document.getElementById("litb-read-frame");b.litbData&&b.litbData.showNewDesktopLitb&&g&&g.contentWindow?(a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:c.location.search,newSession:a}),g.contentWindow.postMessage(a,"*"),
B(),g.focus()):(g&&!g.contentWindow&&l("litbReaderIframeContentWindowNotAvailable"),"undefined"!=typeof SitbReader&&SitbReader.LightboxActions.openReader(b.litbData.litbReftag))}function X(){var a=document.getElementById("litb-read-frame");b.litbData&&b.litbData.showNewDesktopLitb&&a&&a.contentWindow?(I||!F()&&!C||(B(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:c.location.search}),a.src)),I=!1):a&&l("litbReaderIframeContentWindowNotAvailable");C||w()}function B(){var a=
document.getElementById("litb-read-frame");if(a){Q=c.scrollY;var d=document.body;d.style.position="fixed";d.style.top="-"+Q+"px";d.style.right="0";d.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";C=!0}}function z(a){var d=document.getElementById("litb-read-frame");d&&(d.style.cssText="display: none",d=document.body,d.style.position="",d.style.top="",d.style.right="",d.style.left="",c.scrollTo(0,parseInt(Q||
"0",10)),C=!1,a&&w())}function w(){F()&&c.history.replaceState({},document.title,c.location.origin+c.location.pathname+G()+c.location.hash)}function t(a){var d;if(d="string"===typeof a.data)try{JSON.parse(a.data),d=!0}catch(ba){d=!1}d&&(a=JSON.parse(a.data),d=a.command,"closeLITB"===d?a.depth?(I=!0,c.history.go(-1*a.depth),z(!1)):z(!0):"updateLITB"===d&&a.search?(d=v(c.location.search),c.history.pushState({},document.title,c.location.origin+c.location.pathname+A(a.search)+c.location.hash),d.asin!==
a.search.asin&&c.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===d?D=!0:"reloadLITB"===d&&c.location.reload())}function H(){var a=K.outerWidth(),d=K.outerHeight(),g=O.outerHeight()-(O.outerHeight()-K.outerHeight())/2;L.width(a).height(d);K.css({position:"relative",top:"0",left:"0"});r.height(g);(c.innerWidth||document.body.offsetWidth)<b.windowWidthThreshold&&q()}function q(){var a=c.innerWidth||document.body.offsetWidth;if(!(0>=a))if(a>b.windowWidthThreshold){a=b.configWidths[1];var d=
a/b.holderRatio,g=b.frontImageWidth,x=b.frontImageHeight;J(a,d,g,x)}else a<b.windowWidthThreshold&&(a=b.configWidths[0],d=a/b.holderRatio,b.frontImageAspectRatio>b.holderRatio?(g=a,x=g/b.frontImageAspectRatio):(x=d,g=x*b.frontImageAspectRatio),J(a,d,g,x))}function J(a,d,c,g){if(0<a&&0<d&&0<c&&0<g){M.length&&E.length&&(M.css("margin-left",a+b.centerColMargin).removeClass("centerColumn"),E.width(a));var x=d+b.containerMargin;y.width(a).height(x);K.width(c).height(g);L.width(c).height(g);r.height(d-
(d-K.outerHeight())/2);e(this).trigger("imageResize")}}function v(a){var d={};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(d[a[0]]=a[1])});return d}function p(a){var d="";Object.keys(a).forEach(function(c){0<d.length&&(d+="\x26");d+=c+"\x3d"+a[c]});return d}function A(a){if(c.location.search){var d=v(c.location.search);d.asin=a.asin;d.revisionId=a.revisionId;d.format=a.format;d.depth=a.depth;a=p(d)}else a=p(a);return"?"+a}function G(){var a="";c.location.search&&
(a=v(c.location.search),delete a.asin,delete a.revisionId,delete a.format,delete a.depth,a=p(a));return"?"+a}function F(){var a=v(c.location.search);return a.asin&&a.format}var I=!1,D=!1,C=!1,y=e("#ebooksImageBlock"),g=e("#ebooksImgBlkFront"),x=e("#ebooksImgBlockInlineVideo"),a=e("#ebooksImgBlockInlineVideoSrc"),d=new P(h,e,b);if(y.length){var O=y.find("#ebooks-img-wrapper"),r=y.find("#ebooksImageBlockContainer"),L=y.find("#ebooks-img-canvas"),K=L.find(".frontImage"),E=e("#leftCol"),M=e("#centerCol");
f()}else throw Error("Element with id imageBlock is missing");h.on("a:image:load",function(d){x.length&&a.length&&b.hasCoverImageInlineVideo&&(g.hide(),x.show())});h.loadDynamicImage(g);var N=100,T=50,S=0,U=0,Q=0});q.when("A","jQuery","ImageBlockATF","cf").execute(function(h,e,b){function f(){var e=c.innerWidth||document.body.offsetWidth;if(!(0>=e))if(e>b.windowWidthThreshold&&m.width()<=b.configWidths[0]){e=b.configWidths[1];var f=e/b.holderRatio,h=b.frontImageWidth,u=b.frontImageHeight;n(e,f,h,
u)}else e<b.windowWidthThreshold&&m.width()>b.configWidths[0]&&(e=b.configWidths[0],f=e/b.holderRatio,b.frontImageAspectRatio>b.holderRatio?(h=e,u=h/b.frontImageAspectRatio):(u=f,h=u*b.frontImageAspectRatio),n(e,f,h,u))}function n(c,f,h,n){if(0<c&&0<f&&0<h&&0<n){J.css("margin-left",c+b.centerColMargin).removeClass("centerColumn");r.css("width",c);var A=f+b.containerMargin+b.flipLinkMinHeight+b.litbHeight;m.css("width",c).css("height",A);u(h,n);k.css("height",f+b.litbHeight-(f+b.litbHeight-t.outerHeight())/
2);e(this).trigger("imageResize")}}function u(c,b){t.css("width",c).css("height",b);c=t.width();b=t.height();B.css("width",c).css("height",b);p.resizeCanvas(c);"undefined"!==typeof z&&0<z.length&&(z.css("width",c).css("height",b),w.css("height",b),isShowing3D&&q&&(b=w.width(),v=(c-b)/2-2,w.removeClass("ieTransition").css("left",(c-b)/2),w.css("transform","perspective(3000px) rotateY(-65deg) translateZ("+v+"px)"),h.delay(function(){w.addClass("ieTransition")},10)))}var m=e("#imageBlock"),l=m.find("#img-wrapper"),
k=m.find("#imageBlockContainer"),B=m.find("#img-canvas"),z=B.find(".backImage"),w=B.find(".sideImage"),t=B.find(".frontImage"),q=e.browser.msie||!!navigator.userAgent.match(/Trident/),r=e("#leftCol"),J=e("#centerCol"),v=0,p=new M(h,e,m,b,!0);p.initializeMetrics();(function(){if(t.offset()){var c=l.outerHeight()-(l.outerHeight()-t.outerHeight())/2,b=w.outerWidth();l.css("position","relative");t.css({position:"relative",top:"0",left:"0"});z.css("position","absolute").css("top","0").css("left","0");
w.css("position","absolute").css("top","0").css("left","-"+b+"px");k.css("height",c)}})();B.addClass("image-2d");p.initializeSticker("front");b.disableResize||e(c).resize(f)});q.when("a-modal-handlers").execute("mark-booksimageblock-interactive-time",function(){"function"===typeof c.markFeatureInteractive&&c.markFeatureInteractive("booksImageBlock",{hasComponents:!0,components:[{name:"thumbnail"}]})});q.when("A","jQuery","MinimalLITBImageBlockATF").execute(function(c,e,b){var f=e("#minimalImageBlock");
c=new M(c,e,f,b,!1);c.initializeMetrics();c.initializeSticker(r)});var M=function(){return function(h,e,b,f,n){function u(){var a=document.getElementById("litb-read-frame");if(a){if(D){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(50<y)return;y++}setTimeout(u,100)}function m(a,d){g++;D?q(a,d):50<g?l("litbReadyMaxAttempts"):setTimeout(function(){m(a,d)},100)}function q(a,d){a&&(l("litbStickerClickedOnPrintBook"),
F.incrementMetric("litbStickerClickedOnPrintBook"));var b=document.getElementById("litb-read-frame");f.litbData&&f.litbData.showNewDesktopLitb&&b?(a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:c.location.search,newSession:a}),b.contentWindow.postMessage(a,"*"),w(),b.focus()):"undefined"!=typeof SitbReader&&(l("sitbReaderCodePathUsed"),"back"==d&&SitbReader.currentBook&&SitbReader.currentBook.bookmarks?(b=SitbReader.currentBook.bookmarks.getFirstAndLastPageNumberByName("Back Cover").first,
a=SitbReader.currentBook.bookmarks.getFirstAndLastPageNumberByName("Back Flap").first,b?SitbReader.LightboxActions.openReaderToPage(b):a?SitbReader.LightboxActions.openReaderToPage(a):SitbReader.LightboxActions.openReader(f.litbData.litbReftag)):SitbReader.LightboxActions.openReader(f.litbData.litbReftag))}function r(){H()&&c.history.replaceState({},document.title,c.location.origin+c.location.pathname+B()+c.location.hash)}function B(){var a="";c.location.search&&(a=p(c.location.search),delete a.asin,
delete a.revisionId,delete a.format,delete a.depth,a=v(a));return"?"+a}function z(a){var d=document.getElementById("litb-read-frame");d&&(d.style.cssText="display: none",d=document.body,d.style.position="",d.style.top="",d.style.right="",d.style.left="",c.scrollTo(0,parseInt(x||"0",10)),C=!1,a&&r())}function w(){var a=document.getElementById("litb-read-frame");if(a){x=c.scrollY;var d=document.body;d.style.position="fixed";d.style.top="-"+x+"px";d.style.right="0";d.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";
C=!0}}function t(){var a=document.getElementById("litb-read-frame");f.litbData&&f.litbData.showNewDesktopLitb&&a&&(I||!H()&&!C||(w(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:c.location.search}),a.src)),I=!1);C||r()}function H(){var a=p(c.location.search);return a.asin&&a.format}function E(a){var d;if(d="string"===typeof a.data)try{JSON.parse(a.data),d=!0}catch(O){d=!1}d&&(a=JSON.parse(a.data),d=a.command,"closeLITB"===d?a.depth?(I=!0,c.history.go(-1*a.depth),z(!1)):
z(!0):"updateLITB"===d&&a.search?(d=p(c.location.search),c.history.pushState({},document.title,c.location.origin+c.location.pathname+J(a.search)+c.location.hash),d.asin!==a.search.asin&&c.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===d?D=!0:"reloadLITB"===d&&c.location.reload())}function J(a){if(c.location.search){var d=p(c.location.search);d.asin=a.asin;d.revisionId=a.revisionId;d.format=a.format;d.depth=a.depth;a=v(d)}else a=v(a);return"?"+a}function v(a){var d="";Object.keys(a).forEach(function(c){0<
d.length&&(d+="\x26");d+=c+"\x3d"+a[c]});return d}function p(a){var d={};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(d[a[0]]=a[1])});return d}n={};var A=b.find("#litb-canvas"),G=new N(h,e,f),F=new P(h,e,f),I=!1,D=!1,C=!1,y=0,g=0,x=0;n.initializeMetrics=function(){k("litbReadyMaxAttempts");k("litbReaderIframeSrcNotAvailable");k("sitbReaderCodePathUsed");k("litbStickerClickedOnPrintBook")};n.initializeSticker=function(a){if(f&&f.litbData&&(f.litbData.hasLitb&&
f.litbData.litbReftag||f.litbData.showNewDesktopLitb)){A.addClass("litb-on-click");A.click(m.bind(this,!0,a));var d=document.getElementById("litb-read-frame");d&&d.dataset&&d.dataset.src?d.src=d.dataset.src:l("litbReaderIframeSrcNotAvailable");f.litbData.showNewDesktopLitb&&d?(c.addEventListener("popstate",t,!1),c.addEventListener("message",E,!1),u(),d=p(c.location.search),d.asin&&d.format&&m(!1,a)):(G.triggerWeblab("K4W_LITB_PBOOK_MWEB_PRINT_REFLO_DPX_327005"),A.click(function(){q(this,!0,a)}));
d={hasComponents:!0,components:[{name:"mainimage"}]};"function"===typeof c.markFeatureInteractive&&c.markFeatureInteractive("booksImageBlock",d)}};n.resizeCanvas=function(a){A.css("width",a)};return n}}();q.when("A","jQuery","EbooksReadSample","cf").execute(function(c,e,b){(new Y(c,e,b)).setupInteractions(b)});q.when("A","jQuery","PbooksReadSample","cf").execute(function(c,e,b){var f=e("#imageBlock"),n=e("#pbooksReadSample");(new Z(c,e,f,b,n)).initializeSticker(r)});var Y=function(){return function(h,
e,b){function f(){var a=document.getElementById("litb-read-frame");if(a&&a.contentWindow){if(A){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(y>C)return;y++}else a&&l("litbReaderIframeContentWindowNotAvailable");setTimeout(f,D)}function n(a){g++;A?u(a):g>C||setTimeout(function(){n(a)},D)}function u(a){a&&(l("readSampleButtonClicked"),I.incrementMetric("readSampleButtonClicked"));var d=document.getElementById("litb-read-frame");
d&&!d.contentWindow&&l("litbReaderIframeContentWindowNotAvailable");b.litbData&&b.litbData.showNewDesktopLitb&&d&&d.contentWindow?(a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:c.location.search,newSession:a}),d.contentWindow.postMessage(a,"*"),k(),d.focus()):b&&b.litbData&&b.litbData.hasLitb&&(c.smash?q.when("mash").execute(function(a){a.navigate({url:b.litbData.litbReaderUrl,transition:"slide"})}):c.location.href=b.litbData.litbReaderUrl)}function m(){var a=document.getElementById("litb-read-frame");
b.litbData&&b.litbData.showNewDesktopLitb&&a&&a.contentWindow?(p||!z()&&!G||(k(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:c.location.search}),a.src)),p=!1):a&&l("litbReaderIframeContentWindowNotAvailable");G||B()}function k(){var a=document.getElementById("litb-read-frame");if(a){x=c.scrollY;var d=document.body;d.style.position="fixed";d.style.top="-"+x+"px";d.style.right="0";d.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";
G=!0}}function r(a){var d=document.getElementById("litb-read-frame");d&&(d.style.cssText="display: none",d=document.body,d.style.position="",d.style.top="",d.style.right="",d.style.left="",c.scrollTo(0,parseInt(x||"0",10)),G=!1,a&&B())}function B(){z()&&c.history.replaceState({},document.title,c.location.origin+c.location.pathname+J())}function z(){var a=t(c.location.search);return a.asin&&a.format}function w(a){var d;if(d="string"===typeof a.data)try{JSON.parse(a.data),d=!0}catch(O){d=!1}d&&(a=JSON.parse(a.data),
d=a.command,"closeLITB"===d?a.depth?(p=!0,c.history.go(-1*a.depth),r(!1)):r(!0):"updateLITB"===d&&a.search?(d=t(c.location.search),c.history.pushState({},document.title,c.location.origin+c.location.pathname+E(a.search)),d.asin!==a.search.asin&&c.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===d&&(A=!0))}function t(a){var d={};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(d[a[0]]=a[1])});return d}function H(a){var d="";Object.keys(a).forEach(function(c){0<
d.length&&(d+="\x26");d+=c+"\x3d"+a[c]});return d}function E(a){if(c.location.search){var d=t(c.location.search);d.asin=a.asin;d.revisionId=a.revisionId;d.format=a.format;d.depth=a.depth;a=H(d)}else a=H(a);return"?"+a}function J(){var a="";c.location.search&&(a=t(c.location.search),delete a.asin,delete a.revisionId,delete a.format,delete a.depth,a=H(a));return"?"+a}var v={},p=!1,A=!1,G=!1,F=e("#ebooksReadSample"),I=new P(h,e,b);v.setupInteractions=function(){if(b&&b.litbData&&b.litbData.hasLitb&&
b.litbData.litbReftag){var a=document.getElementById("litb-read-frame");a&&a.dataset&&a.dataset.src?a.src=a.dataset.src:b.litbData.showNewDesktopLitb&&l("litbReaderIframeSrcNotAvailable");b.litbData.showNewDesktopLitb&&a?(F.click(function(a){n(!0)}),c.addEventListener("popstate",m,!1),c.addEventListener("message",w,!1),f(),a=t(c.location.search),a.asin&&a.format&&n(!1)):F.click(function(a){u(!0)})}};var D=100,C=20,y=0,g=0,x=0;return v}}(),Z=function(){return function(h,e,b,f,n){function u(){var c=
document.getElementById("litb-read-frame");if(c){if(G){c.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");return}c.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(50<D)return;D++}setTimeout(u,100)}function m(c,b){C++;G?q(c,b):50<C?l("litbReadyMaxAttempts"):setTimeout(function(){m(c,b)},100)}function q(b){b&&(l("printReadSampleButtonClicked"),I.incrementMetric("printReadSampleButtonClicked"));var g=document.getElementById("litb-read-frame");f.litbData&&f.litbData.showNewDesktopLitb&&
g?(b=JSON.stringify({command:"initializeLITB",time:Date.now(),search:c.location.search,newSession:b}),g.contentWindow.postMessage(b,"*"),w(),g.focus()):c.location.href=f.litbData.litbReaderUrl}function r(){H()&&c.history.replaceState({},document.title,c.location.origin+c.location.pathname+B()+c.location.hash)}function B(){var b="";c.location.search&&(b=p(c.location.search),delete b.asin,delete b.revisionId,delete b.format,delete b.depth,b=v(b));return"?"+b}function z(b){var g=document.getElementById("litb-read-frame");
g&&(g.style.cssText="display: none",g=document.body,g.style.position="",g.style.top="",g.style.right="",g.style.left="",c.scrollTo(0,parseInt(y||"0",10)),F=!1,b&&r())}function w(){var b=document.getElementById("litb-read-frame");if(b){y=c.scrollY;var e=document.body;e.style.position="fixed";e.style.top="-"+y+"px";e.style.right="0";e.style.left="0";b.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";F=!0}}function t(){var b=document.getElementById("litb-read-frame");
f.litbData&&f.litbData.showNewDesktopLitb&&b&&(A||!H()&&!F||(w(),b.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:c.location.search}),b.src)),A=!1);F||r()}function H(){var b=p(c.location.search);return b.asin&&b.format}function E(b){var e;if(e="string"===typeof b.data)try{JSON.parse(b.data),e=!0}catch(a){e=!1}e&&(b=JSON.parse(b.data),e=b.command,"closeLITB"===e?b.depth?(A=!0,c.history.go(-1*b.depth),z(!1)):z(!0):"updateLITB"===e&&b.search?(e=p(c.location.search),c.history.pushState({},
document.title,c.location.origin+c.location.pathname+J(b.search)+c.location.hash),e.asin!==b.search.asin&&c.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===e?G=!0:"reloadLITB"===e&&c.location.reload())}function J(b){if(c.location.search){var e=p(c.location.search);e.asin=b.asin;e.revisionId=b.revisionId;e.format=b.format;e.depth=b.depth;b=v(e)}else b=v(b);return"?"+b}function v(b){var c="";Object.keys(b).forEach(function(a){0<c.length&&(c+="\x26");c+=a+"\x3d"+b[a]});return c}function p(b){var c=
{};0<b.length&&b.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(c[a[0]]=a[1])});return c}b={};var A=!1,G=!1,F=!1,I=new P(h,e,f),D=0,C=0,y=0;b.initializeMetrics=function(){k("litbReadyMaxAttempts");k("litbReaderIframeSrcNotAvailable");k(sitbReaderCodePathUsedMetric);k(litbStickerClickedMetric)};b.initializeSticker=function(b){if(f&&f.litbData&&(f.litbData.hasLitb&&f.litbData.litbReftag||f.litbData.showNewDesktopLitb)){n.click(m.bind(this,!0,b));var e=document.getElementById("litb-read-frame");
e&&e.dataset&&e.dataset.src?e.src=e.dataset.src:l("litbReaderIframeSrcNotAvailable");f.litbData.showNewDesktopLitb&&e?(c.addEventListener("popstate",t,!1),c.addEventListener("message",E,!1),u(),e=p(c.location.search),e.asin&&e.format&&m(!1,b)):n.click(q.bind(this,!0,b))}};return b}}();q.when("A","jQuery","MobileLitbImageBlockATF").execute(function(h,e,b){var f=new N(h,e,b);(function(){!c.smash&&b&&b.litbData&&b.litbData.hasLitb&&e("#sitb-sticker-container").click(function(b){f.triggerWeblab("LITB_EVO_PBOOK_MWEB_CLICK_ON_COVER_DPX_598270")})})()});
var N=function(){return function(c,e,b){function f(){var c=document.createElement("a");c.href=b.litbData.litbReaderUrl;return c.hostname}return{triggerWeblab:function(b){e.ajax("https://"+f()+"/sample/trigger-weblab?weblab\x3d"+b,{method:"get",xhrFields:{withCredentials:!0},success:function(b){return b.treatment},error:function(b){return"Unable to trigger weblab due to "+b.responseText}})}}}}(),aa={"read.amazon.com":{marketplace:"US",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},
"read.amazon.co.jp":{marketplace:"JP",region:"us-west-2",katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"read.amazon.ca":{marketplace:"CA",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"ler.amazon.com.br":{marketplace:"BR",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read.amazon.com.au":{marketplace:"AU",region:"us-west-2",
katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"leer.amazon.com.mx":{marketplace:"MX",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read.amazon.co.uk":{marketplace:"GB",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lesen.amazon.de":{marketplace:"DE",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},
"lire.amazon.fr":{marketplace:"FR",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"leggi.amazon.it":{marketplace:"IT",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"leer.amazon.es":{marketplace:"ES",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lezen.amazon.nl":{marketplace:"NL",region:"eu-west-1",
katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read.amazon.in":{marketplace:"IN",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-preprod.amazon.com":{marketplace:"US",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-jp.amazon.com":{marketplace:"JP",region:"us-west-2",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log"},
"read-pre-prod-ca.amazon.com":{marketplace:"CA",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-br.amazon.com":{marketplace:"BR",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-au.amazon.com":{marketplace:"AU",region:"us-west-2",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"read-pre-prod-mx.amazon.com":{marketplace:"MX",
region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-uk.amazon.com":{marketplace:"GB",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-de.amazon.com":{marketplace:"DE",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-fr.amazon.com":{marketplace:"FR",region:"eu-west-1",
katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-it.amazon.com":{marketplace:"IT",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-es.amazon.com":{marketplace:"ES",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lezen-nl-preprod.dub.xcorp.amazon.com":{marketplace:"NL",region:"eu-west-1",
katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-in.amazon.com":{marketplace:"IN",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"}},P=function(){return function(c,e,b){function f(){var c=document.createElement("a"),e=document.getElementById("litb-read-frame");e?c.href=e.src:b&&b.litbData&&(c.href=b.litbData.litbReaderUrl);return c.hostname}return{incrementMetric:function(b){try{var c=
aa[f()];c&&e.ajax({url:c.katalCloudWatchEndpointEmf,type:"POST",data:JSON.stringify(V(b,c)),success:function(b){return b},error:function(b){return"Unable to log metric due to "+b}})}catch(m){return"Failed to emit metrics to cloudwatch due to "+m}}}}}(),W={COUNT:"Count",MILLISECONDS:"Milliseconds",NONE:"None"}});